<app-navigation-home></app-navigation-home>

<div id="todoContenido" class='col-md-7'>

    <div class='pt-3'></div>

    <div class='card' id='zona_maker'>
        <h3 class='text-center pt-3'>Modificar tarea</h3>
       

        <form
            class="pb-5 pl-3 pr-3"
            #registerForm="ngForm"
            novalidate
        >
            <h5 class='text-center pt-3'>Equipo: {{nombreteam}}</h5>

            <div class='card-body'>

                <label for='inputNombreTarea' class="col">Nombre de tarea</label>
                <div id="static" class='input-group col-md-12'>
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fa fa-clipboard"></i>
                        </div>
                    </div>
                    <input 
                        type='text'
                        class='form-control' 
                        id='inputNombreTarea' 
                        required 
                        name='nombre' 
                        [(ngModel)]='taskModel.nombre' 
                        #nombre="ngModel"
                        [class.is-invalid]="nombre.invalid && nombre.touched"
                        placeholder="(Obligatorio)"
                    >
                </div>
                
                <label for='inputEncargadoTarea' class='col-md-12'>Integrante</label>
                <div class='input-group col-md-12'>
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                          <i class="fa fa-user"></i>
                        </div>
                    </div>
                    <select 
                        class='custom-select'
                        id='inputEncargadoTarea'
                        required 
                        name='encargado' 
                        [(ngModel)]='taskModel.encargado' 
                        #encargado="ngModel"
                    >
                        <!--option selected value="0">Seleccione un encargado</option-->
                        <option *ngFor="let colaborador of colaboradores" value='{{colaborador.idColaborador}}'>
                            {{colaborador.nombre}} {{colaborador.apellidos}} 
                        </option>
                    </select>
                </div>

                <br/>
                
                <div class="row col-md-12">
                    <label for='inputFechaTarea' class='col-md-12'>Fecha de finalización</label>
                    <mat-form-field class="col-md-6">
                        <input 
                            matInput 
                            [matDatepicker]="dp" 
                            [(ngModel)]="taskModel.fecha"
                            [disabled]="sinfechacheck"
                            required
                            name="fecha"
                            id="inputFechaTarea"
                            placeholder="Seleccione la fecha de finalización"
                        >
                        <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                        <mat-datepicker #dp></mat-datepicker>
                    </mat-form-field>

                    <!--div class="col-md-3 mt-4">
                        <input 
                        type="checkbox"
                        value="sinfecha"
                        name="sinfecha"
                        (change)=checkSinFecha($event)
                    >   Sin fecha
                    </div-->
                </div>
        
                <div class="row col-md-12">
                    <label for='inputCategoria' class='col-md-9'>Categoría</label>
                    <div class="col-md-3">
                        <a href="/categoriaAdd">Nueva categoría</a>
                    </div>
                </div>
                <div id='inputCategoria'>
                    <div class='input-group col-md-12'>
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                              <i class="fa fa-cubes"></i>
                            </div>
                        </div>
                        <select 
                            class='custom-select'
                            id='inputTipoCategoria'
                            name='categoria'
                            [(ngModel)]='taskModel.categoria'
                            #categoria="ngModel"
                        >
                            <option *ngFor="let categoria of categorias" value='{{categoria.idCategoria[0].idCategoria}}'>
                                {{categoria.nombreCategoria[0].nombreCategoria}}
                            </option>
                        </select>
                    </div>
                </div>
        
                <br/>
        
                <label for='inputDescripcionTarea' class="col">Descripción de tarea</label>
                <div class='input-group col-md-12'>
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                          <i class="fa fa-bars"></i>
                        </div>
                    </div>
                    <input 
                        type='text' 
                        class='form-control' 
                        id='inputDescripcionTarea'
                        name='descripcion' 
                        [(ngModel)]='taskModel.descripcion' 
                        #descripcion="ngModel"
                        placeholder='(Opcional)'
                    >
                </div>
                
                <br/>
            </div>

            <div class="form-group col-md-12 text-center">
                <button 
                    (click)="modTask()"
                    class="btn btn-primary"
                >Modificar tarea</button>
                <button style="margin-left: 20px;" (click)="cancelar()" class="btn btn-danger">Cancelar</button>
                
            </div>

        </form>
    </div>
</div>

<app-footer></app-footer>
